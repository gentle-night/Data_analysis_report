案例分析--指标异动归因

# 一、理论基础

1.1理论的框架

​	目前来看，指标异动的归因分析，

常用的方法：维度下钻+指标拆解

1.2具体理论

（1）一量三比原则：（怎么判断一个指标是否异常）

- 简单来说，一量指的是从绝对量和相对量进行比较,三比主要指与自己、目标、市场进行对比。

-  A.自己：和过去的自己比，看趋势变化与波动幅度。例如：同比与环比看变化幅度、线性拟合与对数拟合看变化趋势。

- B.目标：和预期目标比较，看完成情况。例如：达成率、销售进度等来看有无问题。

-   C.市场：与市场对比，看行业标杆以及市场竞品的对比。例如：市占率、表现领先程度等，考虑市场 因素；

（2）维度下钻

​	所谓的维度下钻，本质上就是将一个粗分的维度化为更加细化的过程。例如常见的年-月-日、国家-省份-城市、苹果-安卓系统到各个子平台、不同渠道的下钻等。

备注：分数型指标较难将整体的差值分解成各部分的差值和、辛普森悖论就是其中一个典型例子。对此机器学习领域给出的方法：摘除法，即通过将分类之一的数据从整体中移除后，对比指标的变化。

参考链接：https://zhuanlan.zhihu.com/p/615298813

（3）指标拆解（多个指标异常的时候怎么判断哪个指标影响最大）

 首先需要知道常见的指标拆解方式：单因素和双因素，以及多因素的拆解。

A.单因素

单因素主要指某一个指标的绝对数的分析，常见的拆解方式有：加减乘除法。

![](https://pic-stored.oss-cn-beijing.aliyuncs.com/image/%E5%8D%95%E5%9B%A0%E7%B4%A0.PNG)

 对于常见的加法模型，例如可以将国家拆分为不同城市、一年拆分成12个月份、不同渠道的的分析。常见的减法模型，例如利润=收入-成本-费用，再对每个指标进行分析。

贡献度计算：

<img src="https://pic-stored.oss-cn-beijing.aliyuncs.com/image/%E5%8D%95%E5%9B%A0%E7%B4%A0-%E8%B4%A1%E7%8C%AE%E5%BA%A6%E8%AE%A1%E7%AE%97.PNG" style="zoom: 50%;" />

其中：X0表示基期的总值



此外关于单因素的乘除法：（涉及到流程链路的指标，我们可以用乘法拆解。）

例如：Y为新增成交用户数=新增用户量Nx新用户激活率Ax激活用户7七日留存率Sx留存用户购买率P

$$ Y=N \times A \times S \times P$$

以留存购买率P为例，当P变动时，对Y的影响大小

$$\begin{array}{c}
I_{P}=\left|\frac{Y^{1}-Y^{0}}{Y^{0}}\right|=\mid \frac{N \times A \times S \times(P+\Delta P)-N \times A \times S \times P}{N \times A \times S \times P} \\
I_{P}=\left|\frac{N \times A \times S \times \Delta P}{N \times A \times S \times P}\right| \\
I_{P}=\left|\frac{\Delta P}{P}\right|
\end{array}$$

类似的可以求解到其他的因子对于整体指标Y的影响。但仅局限于，单一因子单一的变化，如果存在多个因子的同时变动，则上述方法失效。

多因子：LMDI乘积因子拆解

首先，我们仍然以上述案例为例：

$$ Y=N \times A \times S \times P$$

然后计算每个因子的贡献：



$$\begin{array}{l}
C_{N}=L\left(Y^{1}, Y^{0}\right) * \ln \left(\frac{N^{1}}{N^{0}}\right) \\
C_{A}=L\left(Y^{1}, Y^{0}\right) * \ln \left(\frac{A^{1}}{A^{0}}\right) \\
C_{R}=L\left(Y^{1}, Y^{0}\right) * \ln \left(\frac{R^{1}}{R^{0}}\right) \\
C_{P}=L\left(Y^{1}, Y^{0}\right) * \ln \left(\frac{P^{1}}{P^{0}}\right)
\end{array}$$

其中：

$$L\left(Y^{1}, Y^{0}\right)=\frac{Y^{1}-Y^{0}}{\ln \left(Y^{1}\right)-\ln \left(Y^{0}\right)}=\frac{\Delta Y}{\ln \left(Y^{1}\right)-\ln \left(Y^{0}\right)}$$

然后计算四个因子对整体变化率的贡献，即重要性：

$$\begin{aligned}
I_{N} & =\frac{C_{N}}{Y^{0}} \\
I_{A} & =\frac{C_{A}}{Y_{0}} \\
I_{R} & =\frac{C_{R}}{Y_{0}} \\
I_{P} & =\frac{C_{P}}{Y_{0}}
\end{aligned}$$

备注：

LMDI方法有两个显著的优点：

（1）MECE（不重复、不遗漏），各个因子的贡献求和会等于整体指标的变化率，不会存在残差项（解释不清楚的部分）

（2）计算独立，每个因子的贡献率计算过程是相互独立的，无论先算哪个结果都一样。



B.  双因素

对于相对数指标，例如转化率、好评率等等。那么当我们需要对相对数指标进行维度拆解时就需要使用双因素。

  双因素分析是一个能够解决此类问题的非常好的算法。为什么称之为“双因素分析法”，因为相对数指标的分项对整体的贡献，受两个因素影响：

- 分项的相对数指标达成情况；
- 分项在整体中所占的比重；

例如：在广告投放中需要关注的点击率CTR=点击数/展示数；然后假设投放的渠道包括A、B、C、D、E。本期的点击率出现了较为明显的下滑，需要定位是哪个渠道出现了问题，以及每个渠道对整体的贡献如何。





C.多因素 

（1）回归：多重线性回归、逻辑回归、Cox回归：

# 





版权声明©2023 gentle-night

创作不易，转载请注明出处 